{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mMESSAGE ROUTER FILE LOADED\u001b[39m","timestamp":"2025-05-20 16:35:43.012"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mMounting message routes under /conversations/:conversationId/messages\u001b[39m","timestamp":"2025-05-20 16:35:43.017"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mMESSAGE ROUTER FILE LOADED\u001b[39m","timestamp":"2025-05-20 16:45:29.958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mMounting message routes under /conversations/:conversationId/messages\u001b[39m","timestamp":"2025-05-20 16:45:29.963"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mMESSAGE ROUTER FILE LOADED\u001b[39m","timestamp":"2025-05-20 16:49:01.136"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mMounting message routes under /conversations/:conversationId/messages\u001b[39m","timestamp":"2025-05-20 16:49:01.143"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mMESSAGE ROUTER FILE LOADED\u001b[39m","timestamp":"2025-05-20 16:56:05.426"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mMounting message routes under /conversations/:conversationId/messages\u001b[39m","timestamp":"2025-05-20 16:56:05.431"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mOpenAI Service configured with model: gpt-4o\u001b[39m","timestamp":"2025-05-20 16:56:05.555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mDatabase connection established successfully.\u001b[39m","timestamp":"2025-05-20 16:56:05.622"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mSetting up test user...\u001b[39m","timestamp":"2025-05-20 16:56:05.622"}
{"email":"test@example.com","level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mStarting test user creation...\u001b[39m","timestamp":"2025-05-20 16:56:05.626"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mDatabase connection established successfully\u001b[39m","timestamp":"2025-05-20 16:56:05.632"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mChecking for existing test user...\u001b[39m","timestamp":"2025-05-20 16:56:05.642"}
{"email":"test@example.com","level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mTest user already exists\u001b[39m","timestamp":"2025-05-20 16:56:05.653","userId":"ddfb1e38-3283-11f0-beb9-d8bbc113193f"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mTest user already exists\u001b[39m","timestamp":"2025-05-20 16:56:05.655"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mServer running on port 5000 in development mode\u001b[39m","timestamp":"2025-05-20 16:56:05.675"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mServer bound to all network interfaces (0.0.0.0)\u001b[39m","timestamp":"2025-05-20 16:56:05.676"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mUser logged in successfully: test@example.com\u001b[39m","timestamp":"2025-05-20 16:56:37.378"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mUser logged in: test@example.com\u001b[39m","timestamp":"2025-05-20 16:56:37.379"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mDEV_AUTH_MIDDLEWARE: Bypassing JWT, authenticating as test@example.com\u001b[39m","timestamp":"2025-05-20 16:56:37.463"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mDEV_AUTH_MIDDLEWARE: Authenticated as testuser\u001b[39m","timestamp":"2025-05-20 16:56:37.466"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mCreating conversation: type=direct, creatorId=ddfb1e38-3283-11f0-beb9-d8bbc113193f, participants=ddfb1e38-3283-11f0-beb9-d8bbc113193f,bffc93b4-f1d1-4395-bd7e-aef35648ed4e, name=null\u001b[39m","timestamp":"2025-05-20 16:56:37.471"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mFinding existing direct conversation between users ddfb1e38-3283-11f0-beb9-d8bbc113193f and bffc93b4-f1d1-4395-bd7e-aef35648ed4e\u001b[39m","timestamp":"2025-05-20 16:56:37.471"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mFound 6 conversations for user ddfb1e38-3283-11f0-beb9-d8bbc113193f\u001b[39m","timestamp":"2025-05-20 16:56:37.476"}
{"level":"\u001b[31merror\u001b[39m","message":"\t\u001b[31mError finding existing direct conversation: Unknown column 'Conversation.is_ai_conversation' in 'field list'\u001b[39m","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Conversation`.*, `userConversations`.`conversation_id` AS `userConversations.conversationId`, `userConversations`.`user_id` AS `userConversations.userId` FROM (SELECT `Conversation`.`id`, `Conversation`.`type`, `Conversation`.`name`, `Conversation`.`createdBy`, `Conversation`.`created_at` AS `createdAt`, `Conversation`.`updated_at` AS `updatedAt`, `Conversation`.`is_ai_conversation` AS `isAIConversation`, `Conversation`.`created_at`, `Conversation`.`updated_at` FROM `conversations` AS `Conversation` WHERE `Conversation`.`id` IN ('0fe15939-9152-42e0-b142-e36faa0693e3', '5962ff89-8fb0-4604-897c-c661e14b1384', '8e7109d4-1881-48d9-b09c-f51c2e822716', '9f7367b0-1174-4bbc-a837-8c72aca90666', 'b7631cb2-a5ea-46cd-9b7c-b2e89ce7c098', 'ec8e5a3f-e5e9-41fe-91c2-cf87d7e8acf4') AND `Conversation`.`type` = 'direct' AND ( SELECT `conversation_id` FROM `userconversations` AS `userConversations` WHERE (`userConversations`.`user_id` = 'bffc93b4-f1d1-4395-bd7e-aef35648ed4e' AND `userConversations`.`conversation_id` = `Conversation`.`id`) LIMIT 1 ) IS NOT NULL LIMIT 1) AS `Conversation` INNER JOIN `userconversations` AS `userConversations` ON `Conversation`.`id` = `userConversations`.`conversation_id` AND `userConversations`.`user_id` = 'bffc93b4-f1d1-4395-bd7e-aef35648ed4e';","sqlMessage":"Unknown column 'Conversation.is_ai_conversation' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Conversation`.*, `userConversations`.`conversation_id` AS `userConversations.conversationId`, `userConversations`.`user_id` AS `userConversations.userId` FROM (SELECT `Conversation`.`id`, `Conversation`.`type`, `Conversation`.`name`, `Conversation`.`createdBy`, `Conversation`.`created_at` AS `createdAt`, `Conversation`.`updated_at` AS `updatedAt`, `Conversation`.`is_ai_conversation` AS `isAIConversation`, `Conversation`.`created_at`, `Conversation`.`updated_at` FROM `conversations` AS `Conversation` WHERE `Conversation`.`id` IN ('0fe15939-9152-42e0-b142-e36faa0693e3', '5962ff89-8fb0-4604-897c-c661e14b1384', '8e7109d4-1881-48d9-b09c-f51c2e822716', '9f7367b0-1174-4bbc-a837-8c72aca90666', 'b7631cb2-a5ea-46cd-9b7c-b2e89ce7c098', 'ec8e5a3f-e5e9-41fe-91c2-cf87d7e8acf4') AND `Conversation`.`type` = 'direct' AND ( SELECT `conversation_id` FROM `userconversations` AS `userConversations` WHERE (`userConversations`.`user_id` = 'bffc93b4-f1d1-4395-bd7e-aef35648ed4e' AND `userConversations`.`conversation_id` = `Conversation`.`id`) LIMIT 1 ) IS NOT NULL LIMIT 1) AS `Conversation` INNER JOIN `userconversations` AS `userConversations` ON `Conversation`.`id` = `userConversations`.`conversation_id` AND `userConversations`.`user_id` = 'bffc93b4-f1d1-4395-bd7e-aef35648ed4e';","sqlMessage":"Unknown column 'Conversation.is_ai_conversation' in 'field list'","sqlState":"42S22"},"sql":"SELECT `Conversation`.*, `userConversations`.`conversation_id` AS `userConversations.conversationId`, `userConversations`.`user_id` AS `userConversations.userId` FROM (SELECT `Conversation`.`id`, `Conversation`.`type`, `Conversation`.`name`, `Conversation`.`createdBy`, `Conversation`.`created_at` AS `createdAt`, `Conversation`.`updated_at` AS `updatedAt`, `Conversation`.`is_ai_conversation` AS `isAIConversation`, `Conversation`.`created_at`, `Conversation`.`updated_at` FROM `conversations` AS `Conversation` WHERE `Conversation`.`id` IN ('0fe15939-9152-42e0-b142-e36faa0693e3', '5962ff89-8fb0-4604-897c-c661e14b1384', '8e7109d4-1881-48d9-b09c-f51c2e822716', '9f7367b0-1174-4bbc-a837-8c72aca90666', 'b7631cb2-a5ea-46cd-9b7c-b2e89ce7c098', 'ec8e5a3f-e5e9-41fe-91c2-cf87d7e8acf4') AND `Conversation`.`type` = 'direct' AND ( SELECT `conversation_id` FROM `userconversations` AS `userConversations` WHERE (`userConversations`.`user_id` = 'bffc93b4-f1d1-4395-bd7e-aef35648ed4e' AND `userConversations`.`conversation_id` = `Conversation`.`id`) LIMIT 1 ) IS NOT NULL LIMIT 1) AS `Conversation` INNER JOIN `userconversations` AS `userConversations` ON `Conversation`.`id` = `userConversations`.`conversation_id` AND `userConversations`.`user_id` = 'bffc93b4-f1d1-4395-bd7e-aef35648ed4e';","stack":"Error\n    at Query.run (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Conversation.findAll (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Conversation.findOne (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async findExistingDirectConversation (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\services\\conversationService.js:30:36)\n    at async Object.createConversation (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\services\\conversationService.js:81:38)\n    at async createConversationHandler (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\controllers\\conversationController.js:38:30)","timestamp":"2025-05-20 16:56:37.488"}
{"level":"\u001b[31merror\u001b[39m","message":"\t\u001b[31mError in createConversationHandler: Unknown column 'Conversation.is_ai_conversation' in 'field list'\u001b[39m","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Conversation`.*, `userConversations`.`conversation_id` AS `userConversations.conversationId`, `userConversations`.`user_id` AS `userConversations.userId` FROM (SELECT `Conversation`.`id`, `Conversation`.`type`, `Conversation`.`name`, `Conversation`.`createdBy`, `Conversation`.`created_at` AS `createdAt`, `Conversation`.`updated_at` AS `updatedAt`, `Conversation`.`is_ai_conversation` AS `isAIConversation`, `Conversation`.`created_at`, `Conversation`.`updated_at` FROM `conversations` AS `Conversation` WHERE `Conversation`.`id` IN ('0fe15939-9152-42e0-b142-e36faa0693e3', '5962ff89-8fb0-4604-897c-c661e14b1384', '8e7109d4-1881-48d9-b09c-f51c2e822716', '9f7367b0-1174-4bbc-a837-8c72aca90666', 'b7631cb2-a5ea-46cd-9b7c-b2e89ce7c098', 'ec8e5a3f-e5e9-41fe-91c2-cf87d7e8acf4') AND `Conversation`.`type` = 'direct' AND ( SELECT `conversation_id` FROM `userconversations` AS `userConversations` WHERE (`userConversations`.`user_id` = 'bffc93b4-f1d1-4395-bd7e-aef35648ed4e' AND `userConversations`.`conversation_id` = `Conversation`.`id`) LIMIT 1 ) IS NOT NULL LIMIT 1) AS `Conversation` INNER JOIN `userconversations` AS `userConversations` ON `Conversation`.`id` = `userConversations`.`conversation_id` AND `userConversations`.`user_id` = 'bffc93b4-f1d1-4395-bd7e-aef35648ed4e';","sqlMessage":"Unknown column 'Conversation.is_ai_conversation' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Conversation`.*, `userConversations`.`conversation_id` AS `userConversations.conversationId`, `userConversations`.`user_id` AS `userConversations.userId` FROM (SELECT `Conversation`.`id`, `Conversation`.`type`, `Conversation`.`name`, `Conversation`.`createdBy`, `Conversation`.`created_at` AS `createdAt`, `Conversation`.`updated_at` AS `updatedAt`, `Conversation`.`is_ai_conversation` AS `isAIConversation`, `Conversation`.`created_at`, `Conversation`.`updated_at` FROM `conversations` AS `Conversation` WHERE `Conversation`.`id` IN ('0fe15939-9152-42e0-b142-e36faa0693e3', '5962ff89-8fb0-4604-897c-c661e14b1384', '8e7109d4-1881-48d9-b09c-f51c2e822716', '9f7367b0-1174-4bbc-a837-8c72aca90666', 'b7631cb2-a5ea-46cd-9b7c-b2e89ce7c098', 'ec8e5a3f-e5e9-41fe-91c2-cf87d7e8acf4') AND `Conversation`.`type` = 'direct' AND ( SELECT `conversation_id` FROM `userconversations` AS `userConversations` WHERE (`userConversations`.`user_id` = 'bffc93b4-f1d1-4395-bd7e-aef35648ed4e' AND `userConversations`.`conversation_id` = `Conversation`.`id`) LIMIT 1 ) IS NOT NULL LIMIT 1) AS `Conversation` INNER JOIN `userconversations` AS `userConversations` ON `Conversation`.`id` = `userConversations`.`conversation_id` AND `userConversations`.`user_id` = 'bffc93b4-f1d1-4395-bd7e-aef35648ed4e';","sqlMessage":"Unknown column 'Conversation.is_ai_conversation' in 'field list'","sqlState":"42S22"},"sql":"SELECT `Conversation`.*, `userConversations`.`conversation_id` AS `userConversations.conversationId`, `userConversations`.`user_id` AS `userConversations.userId` FROM (SELECT `Conversation`.`id`, `Conversation`.`type`, `Conversation`.`name`, `Conversation`.`createdBy`, `Conversation`.`created_at` AS `createdAt`, `Conversation`.`updated_at` AS `updatedAt`, `Conversation`.`is_ai_conversation` AS `isAIConversation`, `Conversation`.`created_at`, `Conversation`.`updated_at` FROM `conversations` AS `Conversation` WHERE `Conversation`.`id` IN ('0fe15939-9152-42e0-b142-e36faa0693e3', '5962ff89-8fb0-4604-897c-c661e14b1384', '8e7109d4-1881-48d9-b09c-f51c2e822716', '9f7367b0-1174-4bbc-a837-8c72aca90666', 'b7631cb2-a5ea-46cd-9b7c-b2e89ce7c098', 'ec8e5a3f-e5e9-41fe-91c2-cf87d7e8acf4') AND `Conversation`.`type` = 'direct' AND ( SELECT `conversation_id` FROM `userconversations` AS `userConversations` WHERE (`userConversations`.`user_id` = 'bffc93b4-f1d1-4395-bd7e-aef35648ed4e' AND `userConversations`.`conversation_id` = `Conversation`.`id`) LIMIT 1 ) IS NOT NULL LIMIT 1) AS `Conversation` INNER JOIN `userconversations` AS `userConversations` ON `Conversation`.`id` = `userConversations`.`conversation_id` AND `userConversations`.`user_id` = 'bffc93b4-f1d1-4395-bd7e-aef35648ed4e';","stack":"Error\n    at Query.run (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Conversation.findAll (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Conversation.findOne (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async findExistingDirectConversation (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\services\\conversationService.js:30:36)\n    at async Object.createConversation (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\services\\conversationService.js:81:38)\n    at async createConversationHandler (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\controllers\\conversationController.js:38:30)","timestamp":"2025-05-20 16:56:37.490"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mWS Auth: JWT Secret Used: [***SECRET EXISTS***]\u001b[39m","timestamp":"2025-05-20 16:56:37.594"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mWebSocket authenticated for user: testuser (ID: ddfb1e38-3283-11f0-beb9-d8bbc113193f) (Socket ID: F87h5F-xJFrFlys6AAAB)\u001b[39m","timestamp":"2025-05-20 16:56:37.599"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mAuthenticated client connected: testuser (Socket ID: F87h5F-xJFrFlys6AAAB)\u001b[39m","timestamp":"2025-05-20 16:56:37.600"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mClient disconnected: testuser (Socket ID: F87h5F-xJFrFlys6AAAB)\u001b[39m","timestamp":"2025-05-20 16:57:51.152"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mSIGINT signal received: closing HTTP server\u001b[39m","timestamp":"2025-05-20 17:13:33.075"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mMESSAGE ROUTER FILE LOADED\u001b[39m","timestamp":"2025-05-20 17:13:36.871"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mMounting message routes under /conversations/:conversationId/messages\u001b[39m","timestamp":"2025-05-20 17:13:36.876"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mOpenAI Service configured with model: gpt-4o\u001b[39m","timestamp":"2025-05-20 17:13:37.008"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mDatabase connection established successfully.\u001b[39m","timestamp":"2025-05-20 17:13:37.063"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mSetting up test user...\u001b[39m","timestamp":"2025-05-20 17:13:37.064"}
{"email":"test@example.com","level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mStarting test user creation...\u001b[39m","timestamp":"2025-05-20 17:13:37.068"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mDatabase connection established successfully\u001b[39m","timestamp":"2025-05-20 17:13:37.074"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mChecking for existing test user...\u001b[39m","timestamp":"2025-05-20 17:13:37.080"}
{"email":"test@example.com","level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mTest user already exists\u001b[39m","timestamp":"2025-05-20 17:13:37.090","userId":"ddfb1e38-3283-11f0-beb9-d8bbc113193f"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mTest user already exists\u001b[39m","timestamp":"2025-05-20 17:13:37.094"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mServer running on port 5000 in development mode\u001b[39m","timestamp":"2025-05-20 17:13:37.114"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mServer bound to all network interfaces (0.0.0.0)\u001b[39m","timestamp":"2025-05-20 17:13:37.114"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mUser logged in successfully: test@example.com\u001b[39m","timestamp":"2025-05-20 17:14:17.518"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mUser logged in: test@example.com\u001b[39m","timestamp":"2025-05-20 17:14:17.519"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mDEV_AUTH_MIDDLEWARE: Bypassing JWT, authenticating as test@example.com\u001b[39m","timestamp":"2025-05-20 17:14:17.597"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mDEV_AUTH_MIDDLEWARE: Authenticated as testuser\u001b[39m","timestamp":"2025-05-20 17:14:17.600"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mCreating conversation: type=direct, creatorId=ddfb1e38-3283-11f0-beb9-d8bbc113193f, participants=ddfb1e38-3283-11f0-beb9-d8bbc113193f,bffc93b4-f1d1-4395-bd7e-aef35648ed4e, name=null\u001b[39m","timestamp":"2025-05-20 17:14:17.604"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mFinding existing direct conversation between users ddfb1e38-3283-11f0-beb9-d8bbc113193f and bffc93b4-f1d1-4395-bd7e-aef35648ed4e\u001b[39m","timestamp":"2025-05-20 17:14:17.605"}
{"level":"\u001b[31merror\u001b[39m","message":"\t\u001b[31mError in simplified findExistingDirectConversation: Unknown column 'Conversation.is_ai_conversation' in 'field list'\u001b[39m","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Conversation`.`id`, `Conversation`.`type`, `Conversation`.`name`, `Conversation`.`createdBy`, `Conversation`.`created_at` AS `createdAt`, `Conversation`.`updated_at` AS `updatedAt`, `Conversation`.`is_ai_conversation` AS `isAIConversation`, `Conversation`.`created_at`, `Conversation`.`updated_at`, `participants`.`id` AS `participants.id` FROM `conversations` AS `Conversation` INNER JOIN ( `userconversations` AS `participants->UserConversation` INNER JOIN `users` AS `participants` ON `participants`.`id` = `participants->UserConversation`.`user_id`) ON `Conversation`.`id` = `participants->UserConversation`.`conversation_id` AND `participants`.`id` IN ('ddfb1e38-3283-11f0-beb9-d8bbc113193f', 'bffc93b4-f1d1-4395-bd7e-aef35648ed4e') WHERE `Conversation`.`type` = 'direct' GROUP BY `Conversation`.`id` HAVING COUNT(DISTINCT `participants`.`id`) = 2;","sqlMessage":"Unknown column 'Conversation.is_ai_conversation' in 'field list'","sqlState":"42S22"},"stack":"Error\n    at Query.run (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Conversation.findAll (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async findExistingDirectConversation (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\services\\conversationService.js:17:31)\n    at async Object.createConversation (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\services\\conversationService.js:93:38)\n    at async createConversationHandler (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\controllers\\conversationController.js:38:30)","timestamp":"2025-05-20 17:14:17.614"}
{"level":"\u001b[31merror\u001b[39m","message":"\t\u001b[31mError in createConversationHandler: Unknown column 'Conversation.is_ai_conversation' in 'field list'\u001b[39m","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Conversation`.`id`, `Conversation`.`type`, `Conversation`.`name`, `Conversation`.`createdBy`, `Conversation`.`created_at` AS `createdAt`, `Conversation`.`updated_at` AS `updatedAt`, `Conversation`.`is_ai_conversation` AS `isAIConversation`, `Conversation`.`created_at`, `Conversation`.`updated_at`, `participants`.`id` AS `participants.id` FROM `conversations` AS `Conversation` INNER JOIN ( `userconversations` AS `participants->UserConversation` INNER JOIN `users` AS `participants` ON `participants`.`id` = `participants->UserConversation`.`user_id`) ON `Conversation`.`id` = `participants->UserConversation`.`conversation_id` AND `participants`.`id` IN ('ddfb1e38-3283-11f0-beb9-d8bbc113193f', 'bffc93b4-f1d1-4395-bd7e-aef35648ed4e') WHERE `Conversation`.`type` = 'direct' GROUP BY `Conversation`.`id` HAVING COUNT(DISTINCT `participants`.`id`) = 2;","sqlMessage":"Unknown column 'Conversation.is_ai_conversation' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Conversation`.`id`, `Conversation`.`type`, `Conversation`.`name`, `Conversation`.`createdBy`, `Conversation`.`created_at` AS `createdAt`, `Conversation`.`updated_at` AS `updatedAt`, `Conversation`.`is_ai_conversation` AS `isAIConversation`, `Conversation`.`created_at`, `Conversation`.`updated_at`, `participants`.`id` AS `participants.id` FROM `conversations` AS `Conversation` INNER JOIN ( `userconversations` AS `participants->UserConversation` INNER JOIN `users` AS `participants` ON `participants`.`id` = `participants->UserConversation`.`user_id`) ON `Conversation`.`id` = `participants->UserConversation`.`conversation_id` AND `participants`.`id` IN ('ddfb1e38-3283-11f0-beb9-d8bbc113193f', 'bffc93b4-f1d1-4395-bd7e-aef35648ed4e') WHERE `Conversation`.`type` = 'direct' GROUP BY `Conversation`.`id` HAVING COUNT(DISTINCT `participants`.`id`) = 2;","sqlMessage":"Unknown column 'Conversation.is_ai_conversation' in 'field list'","sqlState":"42S22"},"sql":"SELECT `Conversation`.`id`, `Conversation`.`type`, `Conversation`.`name`, `Conversation`.`createdBy`, `Conversation`.`created_at` AS `createdAt`, `Conversation`.`updated_at` AS `updatedAt`, `Conversation`.`is_ai_conversation` AS `isAIConversation`, `Conversation`.`created_at`, `Conversation`.`updated_at`, `participants`.`id` AS `participants.id` FROM `conversations` AS `Conversation` INNER JOIN ( `userconversations` AS `participants->UserConversation` INNER JOIN `users` AS `participants` ON `participants`.`id` = `participants->UserConversation`.`user_id`) ON `Conversation`.`id` = `participants->UserConversation`.`conversation_id` AND `participants`.`id` IN ('ddfb1e38-3283-11f0-beb9-d8bbc113193f', 'bffc93b4-f1d1-4395-bd7e-aef35648ed4e') WHERE `Conversation`.`type` = 'direct' GROUP BY `Conversation`.`id` HAVING COUNT(DISTINCT `participants`.`id`) = 2;","stack":"Error\n    at Query.run (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Conversation.findAll (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async findExistingDirectConversation (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\services\\conversationService.js:17:31)\n    at async Object.createConversation (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\services\\conversationService.js:93:38)\n    at async createConversationHandler (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\controllers\\conversationController.js:38:30)","timestamp":"2025-05-20 17:14:17.615"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mWS Auth: JWT Secret Used: [***SECRET EXISTS***]\u001b[39m","timestamp":"2025-05-20 17:14:17.739"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mWebSocket authenticated for user: testuser (ID: ddfb1e38-3283-11f0-beb9-d8bbc113193f) (Socket ID: sI3fw_RhkMSN7i-sAAAB)\u001b[39m","timestamp":"2025-05-20 17:14:17.744"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mAuthenticated client connected: testuser (Socket ID: sI3fw_RhkMSN7i-sAAAB)\u001b[39m","timestamp":"2025-05-20 17:14:17.745"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mClient disconnected: testuser (Socket ID: sI3fw_RhkMSN7i-sAAAB)\u001b[39m","timestamp":"2025-05-20 17:15:03.264"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mSIGINT signal received: closing HTTP server\u001b[39m","timestamp":"2025-05-20 17:20:02.680"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mMESSAGE ROUTER FILE LOADED\u001b[39m","timestamp":"2025-05-20 17:20:05.615"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mMounting message routes under /conversations/:conversationId/messages\u001b[39m","timestamp":"2025-05-20 17:20:05.621"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mOpenAI Service configured with model: gpt-4o\u001b[39m","timestamp":"2025-05-20 17:20:05.757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mDatabase connection established successfully.\u001b[39m","timestamp":"2025-05-20 17:20:05.834"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mSetting up test user...\u001b[39m","timestamp":"2025-05-20 17:20:05.835"}
{"email":"test@example.com","level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mStarting test user creation...\u001b[39m","timestamp":"2025-05-20 17:20:05.840"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mDatabase connection established successfully\u001b[39m","timestamp":"2025-05-20 17:20:05.846"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mChecking for existing test user...\u001b[39m","timestamp":"2025-05-20 17:20:05.852"}
{"email":"test@example.com","level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mTest user already exists\u001b[39m","timestamp":"2025-05-20 17:20:05.862","userId":"ddfb1e38-3283-11f0-beb9-d8bbc113193f"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mTest user already exists\u001b[39m","timestamp":"2025-05-20 17:20:05.865"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mServer running on port 5000 in development mode\u001b[39m","timestamp":"2025-05-20 17:20:05.885"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mServer bound to all network interfaces (0.0.0.0)\u001b[39m","timestamp":"2025-05-20 17:20:05.885"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mUser logged in successfully: test@example.com\u001b[39m","timestamp":"2025-05-20 17:21:23.941"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mUser logged in: test@example.com\u001b[39m","timestamp":"2025-05-20 17:21:23.943"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mDEV_AUTH_MIDDLEWARE: Bypassing JWT, authenticating as test@example.com\u001b[39m","timestamp":"2025-05-20 17:21:24.037"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mDEV_AUTH_MIDDLEWARE: Authenticated as testuser\u001b[39m","timestamp":"2025-05-20 17:21:24.041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mCreating conversation: type=direct, creatorId=ddfb1e38-3283-11f0-beb9-d8bbc113193f, participants=ddfb1e38-3283-11f0-beb9-d8bbc113193f,bffc93b4-f1d1-4395-bd7e-aef35648ed4e, name=null\u001b[39m","timestamp":"2025-05-20 17:21:24.045"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mAttempting to find existing direct conversation between users ddfb1e38-3283-11f0-beb9-d8bbc113193f and bffc93b4-f1d1-4395-bd7e-aef35648ed4e\u001b[39m","timestamp":"2025-05-20 17:21:24.046"}
{"level":"\u001b[31merror\u001b[39m","message":"\t\u001b[31mError in (new revised) findExistingDirectConversation: Unknown column 'Conversation.is_ai_conversation' in 'field list'\u001b[39m","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Conversation`.`id`, `Conversation`.`type`, `Conversation`.`name`, `Conversation`.`createdBy`, `Conversation`.`created_at` AS `createdAt`, `Conversation`.`updated_at` AS `updatedAt`, `Conversation`.`is_ai_conversation` AS `isAIConversation`, `Conversation`.`created_at`, `Conversation`.`updated_at`, `participants`.`id` AS `participants.id` FROM `conversations` AS `Conversation` INNER JOIN ( `userconversations` AS `participants->UserConversation` INNER JOIN `users` AS `participants` ON `participants`.`id` = `participants->UserConversation`.`user_id`) ON `Conversation`.`id` = `participants->UserConversation`.`conversation_id` AND `participants`.`id` = 'ddfb1e38-3283-11f0-beb9-d8bbc113193f' WHERE `Conversation`.`type` = 'direct';","sqlMessage":"Unknown column 'Conversation.is_ai_conversation' in 'field list'","sqlState":"42S22"},"stack":"Error\n    at Query.run (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Conversation.findAll (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async findExistingDirectConversation (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\services\\conversationService.js:17:36)\n    at async Object.createConversation (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\services\\conversationService.js:97:38)\n    at async createConversationHandler (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\controllers\\conversationController.js:38:30)","timestamp":"2025-05-20 17:21:24.055"}
{"level":"\u001b[31merror\u001b[39m","message":"\t\u001b[31mError in createConversationHandler: Unknown column 'Conversation.is_ai_conversation' in 'field list'\u001b[39m","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Conversation`.`id`, `Conversation`.`type`, `Conversation`.`name`, `Conversation`.`createdBy`, `Conversation`.`created_at` AS `createdAt`, `Conversation`.`updated_at` AS `updatedAt`, `Conversation`.`is_ai_conversation` AS `isAIConversation`, `Conversation`.`created_at`, `Conversation`.`updated_at`, `participants`.`id` AS `participants.id` FROM `conversations` AS `Conversation` INNER JOIN ( `userconversations` AS `participants->UserConversation` INNER JOIN `users` AS `participants` ON `participants`.`id` = `participants->UserConversation`.`user_id`) ON `Conversation`.`id` = `participants->UserConversation`.`conversation_id` AND `participants`.`id` = 'ddfb1e38-3283-11f0-beb9-d8bbc113193f' WHERE `Conversation`.`type` = 'direct';","sqlMessage":"Unknown column 'Conversation.is_ai_conversation' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Conversation`.`id`, `Conversation`.`type`, `Conversation`.`name`, `Conversation`.`createdBy`, `Conversation`.`created_at` AS `createdAt`, `Conversation`.`updated_at` AS `updatedAt`, `Conversation`.`is_ai_conversation` AS `isAIConversation`, `Conversation`.`created_at`, `Conversation`.`updated_at`, `participants`.`id` AS `participants.id` FROM `conversations` AS `Conversation` INNER JOIN ( `userconversations` AS `participants->UserConversation` INNER JOIN `users` AS `participants` ON `participants`.`id` = `participants->UserConversation`.`user_id`) ON `Conversation`.`id` = `participants->UserConversation`.`conversation_id` AND `participants`.`id` = 'ddfb1e38-3283-11f0-beb9-d8bbc113193f' WHERE `Conversation`.`type` = 'direct';","sqlMessage":"Unknown column 'Conversation.is_ai_conversation' in 'field list'","sqlState":"42S22"},"sql":"SELECT `Conversation`.`id`, `Conversation`.`type`, `Conversation`.`name`, `Conversation`.`createdBy`, `Conversation`.`created_at` AS `createdAt`, `Conversation`.`updated_at` AS `updatedAt`, `Conversation`.`is_ai_conversation` AS `isAIConversation`, `Conversation`.`created_at`, `Conversation`.`updated_at`, `participants`.`id` AS `participants.id` FROM `conversations` AS `Conversation` INNER JOIN ( `userconversations` AS `participants->UserConversation` INNER JOIN `users` AS `participants` ON `participants`.`id` = `participants->UserConversation`.`user_id`) ON `Conversation`.`id` = `participants->UserConversation`.`conversation_id` AND `participants`.`id` = 'ddfb1e38-3283-11f0-beb9-d8bbc113193f' WHERE `Conversation`.`type` = 'direct';","stack":"Error\n    at Query.run (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Conversation.findAll (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async findExistingDirectConversation (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\services\\conversationService.js:17:36)\n    at async Object.createConversation (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\services\\conversationService.js:97:38)\n    at async createConversationHandler (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\controllers\\conversationController.js:38:30)","timestamp":"2025-05-20 17:21:24.055"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mWS Auth: JWT Secret Used: [***SECRET EXISTS***]\u001b[39m","timestamp":"2025-05-20 17:21:24.173"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mWebSocket authenticated for user: testuser (ID: ddfb1e38-3283-11f0-beb9-d8bbc113193f) (Socket ID: VFw5zwfNkGl3Kf7vAAAB)\u001b[39m","timestamp":"2025-05-20 17:21:24.177"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mAuthenticated client connected: testuser (Socket ID: VFw5zwfNkGl3Kf7vAAAB)\u001b[39m","timestamp":"2025-05-20 17:21:24.178"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mClient disconnected: testuser (Socket ID: VFw5zwfNkGl3Kf7vAAAB)\u001b[39m","timestamp":"2025-05-20 17:23:01.789"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mSIGINT signal received: closing HTTP server\u001b[39m","timestamp":"2025-05-20 17:30:23.534"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mMESSAGE ROUTER FILE LOADED\u001b[39m","timestamp":"2025-05-20 17:30:26.329"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mMounting message routes under /conversations/:conversationId/messages\u001b[39m","timestamp":"2025-05-20 17:30:26.334"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mOpenAI Service configured with model: gpt-4o\u001b[39m","timestamp":"2025-05-20 17:30:26.515"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mDatabase connection established successfully.\u001b[39m","timestamp":"2025-05-20 17:30:26.593"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mSetting up test user...\u001b[39m","timestamp":"2025-05-20 17:30:26.594"}
{"email":"test@example.com","level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mStarting test user creation...\u001b[39m","timestamp":"2025-05-20 17:30:26.601"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mDatabase connection established successfully\u001b[39m","timestamp":"2025-05-20 17:30:26.609"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mChecking for existing test user...\u001b[39m","timestamp":"2025-05-20 17:30:26.618"}
{"email":"test@example.com","level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mTest user already exists\u001b[39m","timestamp":"2025-05-20 17:30:26.630","userId":"ddfb1e38-3283-11f0-beb9-d8bbc113193f"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mTest user already exists\u001b[39m","timestamp":"2025-05-20 17:30:26.634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mServer running on port 5000 in development mode\u001b[39m","timestamp":"2025-05-20 17:30:26.666"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mServer bound to all network interfaces (0.0.0.0)\u001b[39m","timestamp":"2025-05-20 17:30:26.666"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mUser logged in successfully: test@example.com\u001b[39m","timestamp":"2025-05-20 17:31:09.376"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mUser logged in: test@example.com\u001b[39m","timestamp":"2025-05-20 17:31:09.377"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mDEV_AUTH_MIDDLEWARE: Bypassing JWT, authenticating as test@example.com\u001b[39m","timestamp":"2025-05-20 17:31:09.462"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mDEV_AUTH_MIDDLEWARE: Authenticated as testuser\u001b[39m","timestamp":"2025-05-20 17:31:09.466"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mCreating conversation: type=direct, creatorId=ddfb1e38-3283-11f0-beb9-d8bbc113193f, participants=ddfb1e38-3283-11f0-beb9-d8bbc113193f,bffc93b4-f1d1-4395-bd7e-aef35648ed4e, name=null\u001b[39m","timestamp":"2025-05-20 17:31:09.471"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mAttempting to find existing direct conversation between users ddfb1e38-3283-11f0-beb9-d8bbc113193f and bffc93b4-f1d1-4395-bd7e-aef35648ed4e\u001b[39m","timestamp":"2025-05-20 17:31:09.472"}
{"level":"\u001b[31merror\u001b[39m","message":"\t\u001b[31mError in (new revised) findExistingDirectConversation: Unknown column 'Conversation.is_ai_conversation' in 'field list'\u001b[39m","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Conversation`.`id`, `Conversation`.`type`, `Conversation`.`name`, `Conversation`.`createdBy`, `Conversation`.`created_at` AS `createdAt`, `Conversation`.`updated_at` AS `updatedAt`, `Conversation`.`is_ai_conversation` AS `isAIConversation`, `Conversation`.`created_at`, `Conversation`.`updated_at`, `participants`.`id` AS `participants.id` FROM `conversations` AS `Conversation` INNER JOIN ( `userconversations` AS `participants->UserConversation` INNER JOIN `users` AS `participants` ON `participants`.`id` = `participants->UserConversation`.`user_id`) ON `Conversation`.`id` = `participants->UserConversation`.`conversation_id` AND `participants`.`id` = 'ddfb1e38-3283-11f0-beb9-d8bbc113193f' WHERE `Conversation`.`type` = 'direct';","sqlMessage":"Unknown column 'Conversation.is_ai_conversation' in 'field list'","sqlState":"42S22"},"stack":"Error\n    at Query.run (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Conversation.findAll (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async findExistingDirectConversation (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\services\\conversationService.js:17:36)\n    at async Object.createConversation (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\services\\conversationService.js:97:38)\n    at async createConversationHandler (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\controllers\\conversationController.js:38:30)","timestamp":"2025-05-20 17:31:09.483"}
{"level":"\u001b[31merror\u001b[39m","message":"\t\u001b[31mError in createConversationHandler: Unknown column 'Conversation.is_ai_conversation' in 'field list'\u001b[39m","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Conversation`.`id`, `Conversation`.`type`, `Conversation`.`name`, `Conversation`.`createdBy`, `Conversation`.`created_at` AS `createdAt`, `Conversation`.`updated_at` AS `updatedAt`, `Conversation`.`is_ai_conversation` AS `isAIConversation`, `Conversation`.`created_at`, `Conversation`.`updated_at`, `participants`.`id` AS `participants.id` FROM `conversations` AS `Conversation` INNER JOIN ( `userconversations` AS `participants->UserConversation` INNER JOIN `users` AS `participants` ON `participants`.`id` = `participants->UserConversation`.`user_id`) ON `Conversation`.`id` = `participants->UserConversation`.`conversation_id` AND `participants`.`id` = 'ddfb1e38-3283-11f0-beb9-d8bbc113193f' WHERE `Conversation`.`type` = 'direct';","sqlMessage":"Unknown column 'Conversation.is_ai_conversation' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Conversation`.`id`, `Conversation`.`type`, `Conversation`.`name`, `Conversation`.`createdBy`, `Conversation`.`created_at` AS `createdAt`, `Conversation`.`updated_at` AS `updatedAt`, `Conversation`.`is_ai_conversation` AS `isAIConversation`, `Conversation`.`created_at`, `Conversation`.`updated_at`, `participants`.`id` AS `participants.id` FROM `conversations` AS `Conversation` INNER JOIN ( `userconversations` AS `participants->UserConversation` INNER JOIN `users` AS `participants` ON `participants`.`id` = `participants->UserConversation`.`user_id`) ON `Conversation`.`id` = `participants->UserConversation`.`conversation_id` AND `participants`.`id` = 'ddfb1e38-3283-11f0-beb9-d8bbc113193f' WHERE `Conversation`.`type` = 'direct';","sqlMessage":"Unknown column 'Conversation.is_ai_conversation' in 'field list'","sqlState":"42S22"},"sql":"SELECT `Conversation`.`id`, `Conversation`.`type`, `Conversation`.`name`, `Conversation`.`createdBy`, `Conversation`.`created_at` AS `createdAt`, `Conversation`.`updated_at` AS `updatedAt`, `Conversation`.`is_ai_conversation` AS `isAIConversation`, `Conversation`.`created_at`, `Conversation`.`updated_at`, `participants`.`id` AS `participants.id` FROM `conversations` AS `Conversation` INNER JOIN ( `userconversations` AS `participants->UserConversation` INNER JOIN `users` AS `participants` ON `participants`.`id` = `participants->UserConversation`.`user_id`) ON `Conversation`.`id` = `participants->UserConversation`.`conversation_id` AND `participants`.`id` = 'ddfb1e38-3283-11f0-beb9-d8bbc113193f' WHERE `Conversation`.`type` = 'direct';","stack":"Error\n    at Query.run (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Conversation.findAll (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async findExistingDirectConversation (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\services\\conversationService.js:17:36)\n    at async Object.createConversation (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\services\\conversationService.js:97:38)\n    at async createConversationHandler (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\controllers\\conversationController.js:38:30)","timestamp":"2025-05-20 17:31:09.485"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mWS Auth: JWT Secret Used: [***SECRET EXISTS***]\u001b[39m","timestamp":"2025-05-20 17:31:09.608"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mWebSocket authenticated for user: testuser (ID: ddfb1e38-3283-11f0-beb9-d8bbc113193f) (Socket ID: VLPTXJQSOBcBtFsRAAAB)\u001b[39m","timestamp":"2025-05-20 17:31:09.613"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mAuthenticated client connected: testuser (Socket ID: VLPTXJQSOBcBtFsRAAAB)\u001b[39m","timestamp":"2025-05-20 17:31:09.614"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mClient disconnected: testuser (Socket ID: VLPTXJQSOBcBtFsRAAAB)\u001b[39m","timestamp":"2025-05-20 17:31:51.942"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mSIGINT signal received: closing HTTP server\u001b[39m","timestamp":"2025-05-20 17:38:14.513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mMESSAGE ROUTER FILE LOADED\u001b[39m","timestamp":"2025-05-20 17:38:17.797"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mMounting message routes under /conversations/:conversationId/messages\u001b[39m","timestamp":"2025-05-20 17:38:17.804"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mOpenAI Service configured with model: gpt-4o\u001b[39m","timestamp":"2025-05-20 17:38:17.955"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mDatabase connection established successfully.\u001b[39m","timestamp":"2025-05-20 17:38:18.022"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mSetting up test user...\u001b[39m","timestamp":"2025-05-20 17:38:18.023"}
{"email":"test@example.com","level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mStarting test user creation...\u001b[39m","timestamp":"2025-05-20 17:38:18.027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mDatabase connection established successfully\u001b[39m","timestamp":"2025-05-20 17:38:18.033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mChecking for existing test user...\u001b[39m","timestamp":"2025-05-20 17:38:18.040"}
{"email":"test@example.com","level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mTest user already exists\u001b[39m","timestamp":"2025-05-20 17:38:18.050","userId":"ddfb1e38-3283-11f0-beb9-d8bbc113193f"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mTest user already exists\u001b[39m","timestamp":"2025-05-20 17:38:18.052"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mServer running on port 5000 in development mode\u001b[39m","timestamp":"2025-05-20 17:38:18.075"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mServer bound to all network interfaces (0.0.0.0)\u001b[39m","timestamp":"2025-05-20 17:38:18.076"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mUser logged in successfully: test@example.com\u001b[39m","timestamp":"2025-05-20 17:41:20.981"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mUser logged in: test@example.com\u001b[39m","timestamp":"2025-05-20 17:41:20.982"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mDEV_AUTH_MIDDLEWARE: Bypassing JWT, authenticating as test@example.com\u001b[39m","timestamp":"2025-05-20 17:41:21.064"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mDEV_AUTH_MIDDLEWARE: Authenticated as testuser\u001b[39m","timestamp":"2025-05-20 17:41:21.067"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mCreating conversation: type=direct, creatorId=ddfb1e38-3283-11f0-beb9-d8bbc113193f, participants=ddfb1e38-3283-11f0-beb9-d8bbc113193f,bffc93b4-f1d1-4395-bd7e-aef35648ed4e, name=null\u001b[39m","timestamp":"2025-05-20 17:41:21.072"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mAttempting to find existing direct conversation between users ddfb1e38-3283-11f0-beb9-d8bbc113193f and bffc93b4-f1d1-4395-bd7e-aef35648ed4e (New Approach)\u001b[39m","timestamp":"2025-05-20 17:41:21.072"}
{"level":"\u001b[31merror\u001b[39m","message":"\t\u001b[31mError in (v3) findExistingDirectConversation: Unknown column 'Conversation.is_ai_conversation' in 'field list'\u001b[39m","name":"SequelizeDatabaseError","originalError":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Conversation`.`id`, `Conversation`.`type`, `Conversation`.`name`, `Conversation`.`createdBy`, `Conversation`.`is_ai_conversation` AS `isAIConversation`, `Conversation`.`created_at` AS `createdAt`, `Conversation`.`updated_at` AS `updatedAt`, `participants`.`id` AS `participants.id` FROM `conversations` AS `Conversation` INNER JOIN ( `userconversations` AS `participants->UserConversation` INNER JOIN `users` AS `participants` ON `participants`.`id` = `participants->UserConversation`.`user_id`) ON `Conversation`.`id` = `participants->UserConversation`.`conversation_id` AND `participants`.`id` = 'ddfb1e38-3283-11f0-beb9-d8bbc113193f' WHERE `Conversation`.`type` = 'direct';","sqlMessage":"Unknown column 'Conversation.is_ai_conversation' in 'field list'","sqlState":"42S22"},"sql":"SELECT `Conversation`.`id`, `Conversation`.`type`, `Conversation`.`name`, `Conversation`.`createdBy`, `Conversation`.`is_ai_conversation` AS `isAIConversation`, `Conversation`.`created_at` AS `createdAt`, `Conversation`.`updated_at` AS `updatedAt`, `participants`.`id` AS `participants.id` FROM `conversations` AS `Conversation` INNER JOIN ( `userconversations` AS `participants->UserConversation` INNER JOIN `users` AS `participants` ON `participants`.`id` = `participants->UserConversation`.`user_id`) ON `Conversation`.`id` = `participants->UserConversation`.`conversation_id` AND `participants`.`id` = 'ddfb1e38-3283-11f0-beb9-d8bbc113193f' WHERE `Conversation`.`type` = 'direct';","stack":"Error\n    at Query.run (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Conversation.findAll (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async findExistingDirectConversation (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\services\\conversationService.js:18:36)\n    at async Object.createConversation (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\services\\conversationService.js:112:38)\n    at async createConversationHandler (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\controllers\\conversationController.js:38:30)","timestamp":"2025-05-20 17:41:21.079"}
{"level":"\u001b[31merror\u001b[39m","message":"\t\u001b[31mError in createConversationHandler: Unknown column 'Conversation.is_ai_conversation' in 'field list'\u001b[39m","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Conversation`.`id`, `Conversation`.`type`, `Conversation`.`name`, `Conversation`.`createdBy`, `Conversation`.`is_ai_conversation` AS `isAIConversation`, `Conversation`.`created_at` AS `createdAt`, `Conversation`.`updated_at` AS `updatedAt`, `participants`.`id` AS `participants.id` FROM `conversations` AS `Conversation` INNER JOIN ( `userconversations` AS `participants->UserConversation` INNER JOIN `users` AS `participants` ON `participants`.`id` = `participants->UserConversation`.`user_id`) ON `Conversation`.`id` = `participants->UserConversation`.`conversation_id` AND `participants`.`id` = 'ddfb1e38-3283-11f0-beb9-d8bbc113193f' WHERE `Conversation`.`type` = 'direct';","sqlMessage":"Unknown column 'Conversation.is_ai_conversation' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Conversation`.`id`, `Conversation`.`type`, `Conversation`.`name`, `Conversation`.`createdBy`, `Conversation`.`is_ai_conversation` AS `isAIConversation`, `Conversation`.`created_at` AS `createdAt`, `Conversation`.`updated_at` AS `updatedAt`, `participants`.`id` AS `participants.id` FROM `conversations` AS `Conversation` INNER JOIN ( `userconversations` AS `participants->UserConversation` INNER JOIN `users` AS `participants` ON `participants`.`id` = `participants->UserConversation`.`user_id`) ON `Conversation`.`id` = `participants->UserConversation`.`conversation_id` AND `participants`.`id` = 'ddfb1e38-3283-11f0-beb9-d8bbc113193f' WHERE `Conversation`.`type` = 'direct';","sqlMessage":"Unknown column 'Conversation.is_ai_conversation' in 'field list'","sqlState":"42S22"},"sql":"SELECT `Conversation`.`id`, `Conversation`.`type`, `Conversation`.`name`, `Conversation`.`createdBy`, `Conversation`.`is_ai_conversation` AS `isAIConversation`, `Conversation`.`created_at` AS `createdAt`, `Conversation`.`updated_at` AS `updatedAt`, `participants`.`id` AS `participants.id` FROM `conversations` AS `Conversation` INNER JOIN ( `userconversations` AS `participants->UserConversation` INNER JOIN `users` AS `participants` ON `participants`.`id` = `participants->UserConversation`.`user_id`) ON `Conversation`.`id` = `participants->UserConversation`.`conversation_id` AND `participants`.`id` = 'ddfb1e38-3283-11f0-beb9-d8bbc113193f' WHERE `Conversation`.`type` = 'direct';","stack":"Error\n    at Query.run (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Conversation.findAll (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async findExistingDirectConversation (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\services\\conversationService.js:18:36)\n    at async Object.createConversation (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\services\\conversationService.js:112:38)\n    at async createConversationHandler (C:\\Users\\leone\\OneDrive\\Desktop\\322_final\\backend\\controllers\\conversationController.js:38:30)","timestamp":"2025-05-20 17:41:21.080"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mWS Auth: JWT Secret Used: [***SECRET EXISTS***]\u001b[39m","timestamp":"2025-05-20 17:41:21.216"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mWebSocket authenticated for user: testuser (ID: ddfb1e38-3283-11f0-beb9-d8bbc113193f) (Socket ID: Srewu_Z-_gWnTkRZAAAB)\u001b[39m","timestamp":"2025-05-20 17:41:21.221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mAuthenticated client connected: testuser (Socket ID: Srewu_Z-_gWnTkRZAAAB)\u001b[39m","timestamp":"2025-05-20 17:41:21.222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mClient disconnected: testuser (Socket ID: Srewu_Z-_gWnTkRZAAAB)\u001b[39m","timestamp":"2025-05-20 17:43:24.606"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mSIGINT signal received: closing HTTP server\u001b[39m","timestamp":"2025-05-20 17:57:30.099"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mMESSAGE ROUTER FILE LOADED\u001b[39m","timestamp":"2025-05-20 17:57:32.786"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mMounting message routes under /conversations/:conversationId/messages\u001b[39m","timestamp":"2025-05-20 17:57:32.792"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mOpenAI Service configured with model: gpt-4o\u001b[39m","timestamp":"2025-05-20 17:57:32.926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mDatabase connection established successfully.\u001b[39m","timestamp":"2025-05-20 17:57:32.995"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mSetting up test user...\u001b[39m","timestamp":"2025-05-20 17:57:32.996"}
{"email":"test@example.com","level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mStarting test user creation...\u001b[39m","timestamp":"2025-05-20 17:57:33.000"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mDatabase connection established successfully\u001b[39m","timestamp":"2025-05-20 17:57:33.006"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mChecking for existing test user...\u001b[39m","timestamp":"2025-05-20 17:57:33.011"}
{"email":"test@example.com","level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mTest user already exists\u001b[39m","timestamp":"2025-05-20 17:57:33.020","userId":"ddfb1e38-3283-11f0-beb9-d8bbc113193f"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mTest user already exists\u001b[39m","timestamp":"2025-05-20 17:57:33.023"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mServer running on port 5000 in development mode\u001b[39m","timestamp":"2025-05-20 17:57:33.044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mServer bound to all network interfaces (0.0.0.0)\u001b[39m","timestamp":"2025-05-20 17:57:33.044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mUser logged in successfully: test@example.com\u001b[39m","timestamp":"2025-05-20 17:58:35.489"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mUser logged in: test@example.com\u001b[39m","timestamp":"2025-05-20 17:58:35.490"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mDEV_AUTH_MIDDLEWARE: Bypassing JWT, authenticating as test@example.com\u001b[39m","timestamp":"2025-05-20 17:58:35.561"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mDEV_AUTH_MIDDLEWARE: Authenticated as testuser\u001b[39m","timestamp":"2025-05-20 17:58:35.564"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mCreating AI conversation for creatorId=ddfb1e38-3283-11f0-beb9-d8bbc113193f\u001b[39m","timestamp":"2025-05-20 17:58:35.569"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mFinding AI Coach conversation for user ddfb1e38-3283-11f0-beb9-d8bbc113193f\u001b[39m","timestamp":"2025-05-20 17:58:35.569"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mFound existing AI Coach conversation 0fe15939-9152-42e0-b142-e36faa0693e3 for user ddfb1e38-3283-11f0-beb9-d8bbc113193f\u001b[39m","timestamp":"2025-05-20 17:58:35.589"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mReturning existing AI conversation 0fe15939-9152-42e0-b142-e36faa0693e3 for user ddfb1e38-3283-11f0-beb9-d8bbc113193f\u001b[39m","timestamp":"2025-05-20 17:58:35.589"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mWS Auth: JWT Secret Used: [***SECRET EXISTS***]\u001b[39m","timestamp":"2025-05-20 17:58:35.648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mWebSocket authenticated for user: testuser (ID: ddfb1e38-3283-11f0-beb9-d8bbc113193f) (Socket ID: t10hp4VHH-PGcnV_AAAB)\u001b[39m","timestamp":"2025-05-20 17:58:35.652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mAuthenticated client connected: testuser (Socket ID: t10hp4VHH-PGcnV_AAAB)\u001b[39m","timestamp":"2025-05-20 17:58:35.654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mDEV_AUTH_MIDDLEWARE: Bypassing JWT, authenticating as test@example.com\u001b[39m","timestamp":"2025-05-20 17:58:35.682"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mDEV_AUTH_MIDDLEWARE: Authenticated as testuser\u001b[39m","timestamp":"2025-05-20 17:58:35.685"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mMESSAGE ROUTE: Initial entry for GET / (convId: 0fe15939-9152-42e0-b142-e36faa0693e3)\u001b[39m","timestamp":"2025-05-20 17:58:35.686"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mAUTH_MIDDLEWARE: Authorization Header: [Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImRkZmIxZTM4LTMyODMtMTFmMC1iZWI5LWQ4YmJjMTEzMTkzZiIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ3NDM4NjExLCJleHAiOjE3NDc0NDIyMTF9.v9fsjE8l11ytZhfuM_7St7O12ydjboBlipRdHpd2DG8]\u001b[39m","timestamp":"2025-05-20 17:58:35.687"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mAUTH_MIDDLEWARE: Token to verify: [eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImRkZmIxZTM4LTMyODMtMTFmMC1iZWI5LWQ4YmJjMTEzMTkzZiIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ3NDM4NjExLCJleHAiOjE3NDc0NDIyMTF9.v9fsjE8l11ytZhfuM_7St7O12ydjboBlipRdHpd2DG8]\u001b[39m","timestamp":"2025-05-20 17:58:35.687"}
{"level":"\u001b[31merror\u001b[39m","message":"\t\u001b[31mAUTH_MIDDLEWARE: JWT Verification or User Fetch Error: jwt expired\u001b[39m","name":"TokenExpiredError","timestamp":"2025-05-20 17:58:35.688","tokenProvided":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImRkZmIxZTM4LTMyODMtMTFmMC1iZWI5LWQ4YmJjMTEzMTkzZiIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzQ3NDM4NjExLCJleHAiOjE3NDc0NDIyMTF9.v9fsjE8l11ytZhfuM_7St7O12ydjboBlipRdHpd2DG8"}
{"level":"\u001b[31merror\u001b[39m","message":"\t\u001b[31mUnhandled error:\u001b[39m","timestamp":"2025-05-20 17:58:35.690"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mClient disconnected: testuser (Socket ID: t10hp4VHH-PGcnV_AAAB)\u001b[39m","timestamp":"2025-05-20 18:00:00.624"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mWS Auth: JWT Secret Used: [***SECRET EXISTS***]\u001b[39m","timestamp":"2025-05-20 18:01:44.576"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mWebSocket authenticated for user: testuser (ID: ddfb1e38-3283-11f0-beb9-d8bbc113193f) (Socket ID: 2PEROMVcGqbNNK12AAAD)\u001b[39m","timestamp":"2025-05-20 18:01:44.585"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mAuthenticated client connected: testuser (Socket ID: 2PEROMVcGqbNNK12AAAD)\u001b[39m","timestamp":"2025-05-20 18:01:44.585"}
{"level":"\u001b[32minfo\u001b[39m","message":"\t\u001b[32mClient disconnected: testuser (Socket ID: 2PEROMVcGqbNNK12AAAD)\u001b[39m","timestamp":"2025-05-20 18:01:48.528"}
